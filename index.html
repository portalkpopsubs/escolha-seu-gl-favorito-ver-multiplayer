<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Escolha seu GL Favorito - By LuiS</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
<style>
body { margin:0; font-family:'Poppins',sans-serif; background:#0a0a0a; color:#fff; text-align:center; overflow-x:hidden;}
h1 { margin-top:2vh; font-size:4vw; }
#round-title { margin-top:1vh; font-size:2vw; }
.series-container { display:flex; justify-content:center; flex-wrap:wrap; gap:3vw; margin-top:3vh; }
.series-card { cursor:pointer; width:18vw; max-width:180px; transition:transform 0.3s, opacity 0.5s, box-shadow 0.3s; border-radius:12px; overflow:hidden; border:2px solid #444; background:#2b2b2b;}
.series-card:hover { transform:scale(1.1); box-shadow:0 0 25px #FFD700,0 0 50px #FF4500; }
.series-card img { width:100%; display:block; border-bottom:2px solid #444; }
.series-card p { margin:0.5em 0; font-size:1em; font-weight:bold; }
button { margin-top:2vh; padding:1em 2em; font-size:1em; border-radius:8px; border:none; background:#FFD700; color:#0a0a0a; cursor:pointer; font-weight:bold; transition: transform 0.2s, box-shadow 0.2s; }
button:hover { transform:scale(1.05); box-shadow:0 0 20px #FFD700; }
#winner-container { position:relative; margin-top:3vh; text-align:center; animation:fadeIn 1.5s forwards; display:none;}
#winner-img { width:20vw; max-width:250px; margin-right:2vw; animation:glow 1.5s infinite alternate; }
#winner-series-img { width:18vw; max-width:220px; border-radius:12px; box-shadow:0 0 40px #FFD700,0 0 60px #FF4500; animation:winnerGlow 1.5s infinite alternate; }
#winner-name { font-size:6vw; max-font-size:56px; color:#FFD700; font-weight:bold; margin-top:2vh; text-shadow:0 0 20px #FFD700,0 0 30px #FF4500; }

/* Ranking */
#ranking-container { margin-top:3vh; display:none; }
#ranking-container h2 { color:#FFD700; margin-bottom:2vh; }
.ranking-item { display:flex; align-items:center; gap:1em; background:#2b2b2b; margin:0.5em auto; padding:0.5em 1em; border-radius:12px; width:300px; box-shadow:0 0 10px #FFD700; }
.ranking-item img { width:60px; height:60px; border-radius:8px; object-fit:cover; border:2px solid #FFD700; }
.ranking-item span { font-weight:bold; color:#fff; }

/* Histórico */
table { margin:3vh auto; border-collapse:collapse; width:90%; }
th, td { border:1px solid #555; padding:0.5em 1em; font-size:0.9em; }
th { background:#333; color:#FFD700; }
td { background:#2b2b2b; }

.firework, .particle { position:absolute; border-radius:50%; pointer-events:none; }
.firework { width:2vw; height:2vw; max-width:14px; max-height:14px; animation:explode 1s ease-out forwards; }
.particle { width:1vw; height:1vw; max-width:6px; max-height:6px; animation:fall 2s linear forwards; }

@keyframes explode {0%{transform:scale(1);opacity:1;}100%{transform:translate(var(--x),var(--y)) scale(0);opacity:0;}}
@keyframes fall {0%{transform:translateY(0);opacity:1;}100%{transform:translateY(700px);opacity:0;}}
@keyframes fadeIn {from{opacity:0;}to{opacity:1;}}
@keyframes glow {from{filter:drop-shadow(0 0 10px #FFD700);}to{filter:drop-shadow(0 0 35px #FFD700);}}
@keyframes winnerGlow {from{box-shadow:0 0 30px #FFD700,0 0 50px #FF4500;}to{box-shadow:0 0 60px #FFD700,0 0 90px #FF4500;}}

@media(max-width:768px){
  h1{font-size:6vw;}
  #round-title{font-size:4vw;}
  .series-card{width:40vw;}
  #winner-img,#winner-series-img{width:35vw;margin:1vw;}
  #winner-name{font-size:10vw;}
  table{font-size:0.8em;}
}
</style>
</head>
<body>
<h1>Escolha seu GL Favorito - By LuiS</h1>

<!-- Setup -->
<div id="setup-container">
  <label>Número de jogadores:</label>
  <select id="num-players">
    <option value="1">1</option>
    <option value="2">2</option>
  </select>
  <div id="player-names-container"></div>
  <button id="start-game-btn">Iniciar Jogo</button>
</div>

<div id="round-title"></div>
<div class="series-container" id="series-container"></div>

<!-- Winner -->
<div id="winner-container">
  <img id="winner-img" src="https://i.imgur.com/h6RPr51.png" alt="Troféu">
  <img id="winner-series-img" src="" alt="GL Vencedor">
  <div id="winner-name"></div>
  <button onclick="resetGame()" id="back-btn" style="display:none;">Voltar ao início</button>
</div>

<!-- Ranking -->
<div id="ranking-container">
  <h2>Ranking Final das Séries</h2>
  <div id="ranking-list"></div>
</div>

<!-- Histórico -->
<h2>Histórico de Confrontos</h2>
<table id="history-table">
<thead><tr><th>Rodada</th><th>Confronto</th><th>Vencedor</th><th>Jogador</th></tr></thead>
<tbody></tbody>
</table>

<!-- Sons -->
<audio id="winner-sound" src="https://cdn.pixabay.com/download/audio/2025/06/26/audio_0ef82a1331.mp3?filename=victory-chime-366449.mp3" preload="auto"></audio>
<audio id="click-sound" src="https://www.fesliyanstudios.com/play-mp3/387" preload="auto"></audio>

<script>
// Lista dos GLs
const seriesList=[
  {name:"Queendom", img:"https://i.imgur.com/SYtHmXd.jpeg", votes:0},
  {name:"Pluto", img:"https://i.imgur.com/Qltq2kJ.jpeg", votes:0},
  {name:"Reverse with Me", img:"https://i.imgur.com/nM6jKSk.jpeg", votes:0},
  {name:"Us The Series", img:"https://i.imgur.com/2A8w6qk.jpeg", votes:0},
  {name:"Only You", img:"https://i.imgur.com/sCoTHLp.jpeg", votes:0},
  {name:"Whale Store", img:"https://i.imgur.com/OG9cIIh.jpeg", votes:0},
  {name:"Somewhere Somehow", img:"https://i.imgur.com/n5OpLu6.jpeg", votes:0},
  {name:"Denied Love", img:"https://i.imgur.com/Pm3MBZY.jpeg", votes:0},
  {name:"The Secret Of Us", img:"https://i.imgur.com/8ESBLiX.jpeg", votes:0},
  {name:"Harmony Secret", img:"https://i.imgur.com/65bfKtK.jpeg", votes:0},
  {name:"Roller Coaster", img:"https://i.imgur.com/STRpw6e.jpeg", votes:0},
  {name:"Reverse 4 You", img:"https://i.imgur.com/i8yw3RH.jpeg", votes:0},
  {name:"The Royal Pin", img:"https://i.imgur.com/TTU42Be.jpeg", votes:0},
  {name:"GAP The Series", img:"https://i.imgur.com/MLPnrBB.jpeg", votes:0},
  {name:"Affair", img:"https://i.imgur.com/QeCcpaX.jpeg", votes:0},
  {name:"Blank", img:"https://i.imgur.com/HJOAwwq.jpeg", votes:0},
  {name:"My Marvellous Dream Is You", img:"https://i.imgur.com/B5xWH6i.jpeg", votes:0},
  {name:"23.5", img:"https://i.imgur.com/gDX4Qhw.jpeg", votes:0},
  {name:"Apple My Love", img:"https://i.imgur.com/ZUoJiOY.jpeg", votes:0},
  {name:"Petrichor", img:"https://i.imgur.com/adpA5wo.jpeg", votes:0},
  {name:"Love Senior", img:"https://i.imgur.com/FJJ2W14.jpeg", votes:0},
  {name:"B-Friend", img:"https://i.imgur.com/QX8ZcAn.jpeg", votes:0},
  {name:"Friendly Rivalry", img:"https://i.imgur.com/VySlZlV.jpeg", votes:0},
  {name:"I Am Devil", img:"https://i.imgur.com/5RZAYSd.jpeg", votes:0},
  {name:"Losing Control", img:"https://i.imgur.com/6Q1SEv5.jpeg", votes:0},
  {name:"Poisonous Love", img:"https://i.imgur.com/0JZSJxI.jpeg", votes:0},
  {name:"Show Me Love", img:"https://i.imgur.com/DQKB6Qb.jpeg", votes:0}
];

// Variáveis
let currentRound=[], nextRound=[], roundNumber=1, history=[], players=[], currentPlayerIndex=0;

// Shuffle
function shuffle(array){ return array.sort(()=>Math.random()-0.5); }

// Setup jogadores
document.getElementById("start-game-btn").onclick=()=>{
  players=[];
  document.getElementById("setup-container").style.display="none";
  document.getElementById("round-title").style.display="block";
  document.getElementById("series-container").style.display="flex";
  currentRound=shuffle([...seriesList]);
  nextRound=[];
  roundNumber=1;
  currentPlayerIndex=0;
  updateRoundTitle();
  startRound();
};

function resetGame(){
  document.getElementById("setup-container").style.display="block";
  document.getElementById("round-title").style.display="none";
  document.getElementById("series-container").style.display="none";
  document.getElementById("winner-container").style.display="none";
  document.getElementById("ranking-container").style.display="none";
  document.getElementById("back-btn").style.display="none";
  history=[]; currentRound=[]; nextRound=[]; roundNumber=1; currentPlayerIndex=0;
  seriesList.forEach(s=>s.votes=0);
  document.querySelector("#history-table tbody").innerHTML="";
}

function updateRoundTitle(){
  document.getElementById("round-title").innerText=`Batalha ${roundNumber}`;
}

function updateHistoryTable(){
  const tbody=document.querySelector("#history-table tbody");
  tbody.innerHTML="";
  history.forEach(h=>{
    const tr=document.createElement("tr");
    tr.innerHTML=`<td>${h.round}</td><td>${h.matchup}</td><td>${h.winner}</td><td>${h.player}</td>`;
    tbody.appendChild(tr);
  });
}

function startRound(){
  if(currentRound.length===0 && nextRound.length===1){ showWinner(nextRound[0]); return;}
  if(currentRound.length===0){ currentRound=shuffle(nextRound); nextRound=[]; roundNumber++; currentPlayerIndex=0; }
  showPair();
}

function showPair(){
  const container = document.getElementById("series-container");
  container.innerHTML = "";
  if(currentRound.length === 1){ 
    nextRound.push(currentRound.pop());
    startRound();
    return;
  }
  const s1 = currentRound.pop();
  const s2 = currentRound.pop();
  container.appendChild(createSeriesCard(s1, s2));
  container.appendChild(createSeriesCard(s2, s1));
}

function createSeriesCard(series, opponent){
  const card = document.createElement("div");
  card.className = "series-card";
  card.onclick = ()=>{
    // Som de click
    const clickSound = document.getElementById("click-sound");
    clickSound.currentTime = 0;
    clickSound.play();

    nextRound.push(series);
    series.votes++;
    history.push({
      round: roundNumber,
      matchup: `${series.name} x ${opponent.name}`,
      winner: series.name,
      player: "Jogador"
    });
    updateHistoryTable();
    updateRoundTitle();
    startRound();
  };
  const img = document.createElement("img");
  img.src = series.img;
  img.alt = series.name;
  const p = document.createElement("p");
  p.textContent = series.name;
  card.appendChild(img);
  card.appendChild(p);
  return card;
}

function showWinner(series){
  document.getElementById("series-container").style.display = "none";
  const winnerContainer = document.getElementById("winner-container");
  winnerContainer.style.display = "block";
  document.getElementById("winner-name").textContent = series.name;
  document.getElementById("winner-series-img").src = series.img;
  document.getElementById("back-btn").style.display = "inline-block";
  const sound = document.getElementById("winner-sound");
  sound.currentTime = 0;
  sound.play();
  setInterval(()=>createFirework(),70);
  setInterval(()=>createParticle(),70);
  showRanking();
}

function showRanking(){
  const rankingContainer = document.getElementById("ranking-container");
  rankingContainer.style.display = "block";
  const list = document.getElementById("ranking-list");
  list.innerHTML = "";
  const sortedSeries = [...seriesList].sort((a,b)=>b.votes - a.votes);
  const medals = ["🥇","🥈","🥉"];
  sortedSeries.forEach((s,i)=>{
    if(s.votes > 0){
      const div = document.createElement("div");
      div.className="ranking-item";
      const medal = medals[i] ? medals[i]+" " : "";
      div.innerHTML = `<img src="${s.img}" alt="${s.name}"><span>${medal}${s.name} - ${s.votes} votos</span>`;
      list.appendChild(div);
    }
  });
}

function createFirework(){
  const f = document.createElement("div");
  f.className = "firework";
  const colors=["#FFD700","#FF4500","#00BFFF","#FF69B4","#7CFC00","#ADFF2F","#FF6347"];
  f.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
  const x=(Math.random()*window.innerWidth - window.innerWidth/2)+"px";
  const y=(Math.random()*window.innerHeight - window.innerHeight/2)+"px";
  f.style.setProperty('--x',x);
  f.style.setProperty('--y',y);
  document.body.appendChild(f);
  setTimeout(()=>f.remove(),1200);
}

function createParticle(){
  const p = document.createElement("div");
  p.className = "particle";
  const colors=["#FFD700","#FF4500","#00BFFF","#FF69B4","#7CFC00","#ADFF2F","#FF6347"];
  p.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
  p.style.left = Math.random()*window.innerWidth+"px";
  p.style.top = "-10px";
  document.body.appendChild(p);
  setTimeout(()=>p.remove(),2000);
}
</script>
</body>
</html>

